<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>프리미엄 재테크 관리 시스템</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
    <header>
        <h1>💎 스마트 자산 플래너 Pro</h1>
        <div class="summary-container">
            <div class="summary-box">
                <span class="label">총 자산</span>
                <span id="totalAssets" class="value">0원</span>
            </div>
            <div class="summary-box">
                <span class="label">예정 지출 합계</span>
                <span id="totalPlanned" class="value" style="color: #ff8b94;">0원</span>
            </div>
            <div class="summary-box">
                <span class="label">가용 자산 (여유돈)</span>
                <span id="availableCash" class="value" style="color: #48bb78;">0원</span>
            </div>
        </div>
        
        <nav>
            <button class="tab-btn active" onclick="openTab('todo')">일정 관리</button>
            <button class="tab-btn" onclick="openTab('assets')">자산/목표 관리</button>
            <button class="tab-btn" onclick="openTab('records')">지출 기록</button>
        </nav>
    </header>

    <!-- 탭 1: 일정 관리 -->
    <section id="todo" class="tab-content active">
        <div class="card todo-card">
            <h3>📅 재무 일정 및 할 일</h3>
            <div class="date-selector">
                <label>날짜 선택: </label>
                <input type="date" id="todoDate" onchange="renderTodos()">
            </div>
            <div class="input-group">
                <input type="text" id="todoInput" placeholder="할 일을 입력하세요">
                <button onclick="addTodo()">추가</button>
            </div>
            <ul id="todoList"></ul>
        </div>
    </section>

    <!-- 탭 2: 자산 관리 -->
    <section id="assets" class="tab-content">
        <div class="card">
            <h3>💰 새 계좌 및 저축 목표 등록</h3>
            <div class="asset-grid">
                <div class="input-unit">
                    <select id="bankSelect" onchange="toggleOther('bankSelect', 'bankOther')">
                        <option value="">은행/증권사 선택</option>
                        <option value="우리은행">우리은행</option>
                        <option value="하나은행">하나은행</option>
                        <option value="신한은행">신한은행</option>
                        <option value="KB국민은행">KB국민은행</option>
                        <option value="NH농협은행">NH농협은행</option>
                        <option value="카카오뱅크">카카오뱅크</option>
                        <option value="토스뱅크">토스뱅크</option>
                        <option value="기타">기타(직접입력)</option>
                    </select>
                    <input type="text" id="bankOther" class="hidden-input" placeholder="은행명 직접 입력">
                </div>
                <div class="input-unit">
                    <select id="typeSelect" onchange="toggleOther('typeSelect', 'typeOther')">
                        <option value="">계좌 종류 선택</option>
                        <option value="예금">예금</option>
                        <option value="적금">적금</option>
                        <option value="주택청약">주택청약</option>
                        <option value="CMA">CMA</option>
                        <option value="ISA">ISA</option>
                        <option value="보통예금(입출금)">보통예금(입출금)</option>
                        <option value="기타">기타(직접입력)</option>
                    </select>
                    <input type="text" id="typeOther" class="hidden-input" placeholder="계좌종류 직접 입력">
                </div>
                
                <div class="input-unit multi-purpose">
                    <label>용도 (중복 체크)</label>
                    <div class="purpose-checklist" id="purposeChecklist">
                        <label><input type="checkbox" value="월급"> 월급</label>
                        <label><input type="checkbox" value="비상금"> 비상금</label>
                        <label><input type="checkbox" value="투자금"> 투자금</label>
                        <label><input type="checkbox" value="생활비"> 생활비</label>
                        <label><input type="checkbox" value="교통비"> 교통비</label>
                        <label><input type="checkbox" value="통신료"> 통신료</label>
                        <label><input type="checkbox" value="보험료"> 보험료</label>
                        <label><input type="checkbox" value="공과금"> 공과금</label>
                        <label><input type="checkbox" value="저축"> 저축</label>
                        <label><input type="checkbox" value="투자대기자금"> 투자대기자금</label>
                        <label><input type="checkbox" id="purposeOtherCheck" onchange="document.getElementById('purposeOtherText').style.display = this.checked ? 'block' : 'none'"> 기타</label>
                        <input type="text" id="purposeOtherText" style="display:none; width:90%; margin-top:5px;" placeholder="기타 용도 입력">
                    </div>
                </div>

                <div class="amount-group-box">
                    <div class="amount-group">
                        <input type="number" id="accBalance" placeholder="현재 잔액">
                        <select id="accUnit" onchange="convertUnit('accBalance', 'accUnit')">
                            <option value="1">단위</option>
                            <option value="1000">천원</option>
                            <option value="10000">만원</option>
                            <option value="1000000">백만원</option>
                            <option value="100000000">억</option>
                        </select>
                    </div>
                    <div class="amount-group" style="margin-top:10px;">
                        <input type="number" id="accTarget" placeholder="목표 금액 (선택)">
                        <select id="targetUnit" onchange="convertUnit('accTarget', 'targetUnit')">
                            <option value="1">단위</option>
                            <option value="10000">만원</option>
                            <option value="1000000">백만원</option>
                        </select>
                    </div>
                </div>
                
                <button onclick="addAsset()" class="add-btn" style="height:fit-content; align-self:end;">계좌 추가</button>
            </div>
        </div>

        <div id="assetDisplayArea"></div>
    </section>

    <!-- 탭 3: 지출 기록 -->
    <section id="records" class="tab-content">
        <div class="card">
            <h3>💸 실제 지출 기록</h3>
            <div class="asset-grid">
                <select id="expAssetSelect" style="background-color: white; border: 1px solid #ddd;">
                    <!-- 스크립트로 채워짐 -->
                </select>
                <input type="text" id="expMemo" placeholder="내용">
                <div class="amount-group">
                    <input type="number" id="expAmount" placeholder="지출 금액">
                    <select id="expUnit" onchange="convertUnit('expAmount', 'expUnit')">
                        <option value="1">원</option>
                        <option value="100">백원</option>
                        <option value="1000">천원</option>
                        <option value="10000">만원</option>
                        <option value="100000">십만원</option>
                        <option value="1000000">백만원</option>
                        <option value="10000000">천만원</option>
                        <option value="100000000">억</option>
                    </select>
                </div>
                <button onclick="addExpense()" class="add-btn" style="background: #ffb3ba;">지출 등록</button>
            </div>
        </div>
        <div class="card">
            <table id="expenseTable">
                <thead>
                    <tr><th>날짜</th><th>계좌</th><th>내용</th><th>금액</th><th>관리</th></tr>
                </thead>
                <tbody id="expenseBody"></tbody>
            </table>
        </div>
    </section>
</div>

<script src="script.js"></script>
</body>
</html>
